import e from"morphdom";const t=new WeakMap;function n(e){const n=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,n=null!=t?t.closest("input, button"):null;return null!=n&&"submit"===n.type?n:null}(e.target);null!=(null==n?void 0:n.form)&&t.set(n.form,n)}var o;function r(e){return Array.isArray(e)?e:null!=Array.from?Array.from(e):[].slice.call(e)}!function(){let e=Event.prototype;const o=navigator.vendor.includes("Apple Computer");if("SubmitEvent"in window){if(!o)return;e=window.SubmitEvent.prototype}"submitter"in e||(addEventListener("click",n,!0),Object.defineProperty(e,"submitter",{get(){if("submit"===this.type&&this.target instanceof HTMLFormElement)return t.get(this.target)}}))}();const i=null!==(o=Element.prototype.matches)&&void 0!==o?o:Element.prototype.webkitMatchesSelector;function l(e,t){return e instanceof Element&&("string"==typeof t?i.call(e,t):i.call(e,t.selector)&&!i.call(e,t.exclude))}let c="form",a="a";null!=window.Turbo&&(c='form[data-turbo="false"]',a='a[data-turbo="false"]');const u="data-remote",s="data-disable",d=`${s}-with`,f={remoteSelector:`a[${u}="true"], a[data-method], form[${u}="true"]`,linkClickSelector:`a[data-confirm], ${a}[data-method], ${a}[${u}]:not([disabled]), ${a}[${d}], ${a}[${s}]`,buttonClickSelector:{selector:`button[${u}]:not([form]), button[data-confirm]:not([form]), button[${d}]:not([form]), button[${s}]:not([form])`,exclude:"form button"},inputChangeSelector:`select[${u}], input[${u}], textarea[${u}]`,formSubmitSelector:`${c}`,formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:`input[${d}]:enabled, button[${d}]:enabled, textarea[${d}]:enabled, input[${s}]:enabled, button[${s}]:enabled, textarea[${s}]:enabled`,formEnableSelector:`input[${d}]:disabled, button[${d}]:disabled, textarea[${d}]:disabled, input[${s}]:disabled, button[${s}]:disabled, textarea[${s}]:disabled`,linkDisableSelector:`a[${d}], a[${s}]`,buttonDisableSelector:`button[data-remote][${d}], button[data-remote][${s}]`,fileInputSelector:"fileInputSelector: 'input[name][type=file]:not([disabled])'"};function m(e,t){e.forEach((e=>{const{selectors:n,event:o}=e;v(n.map(w).join(", ")).forEach((e=>{n.forEach((n=>{l(e,n)&&t.forEach((t=>e.addEventListener(o,t)))}))}))}))}function b(e,t){e.forEach((e=>{const{selectors:n,event:o}=e;v(n.map(w).join(", ")).forEach((e=>{n.forEach((n=>{l(e,n)&&t.forEach((t=>e.removeEventListener(o,t)))}))}))}))}function h(e,t,n){e.forEach((e=>{e.selectors.forEach((o=>{t.forEach((t=>{l(t,o)&&n.forEach((n=>t.addEventListener(e.event,n))),t instanceof Element&&t.querySelectorAll(w(o)).forEach((t=>{n.forEach((n=>t.addEventListener(e.event,n)))}))}))}))}))}function p(e,t){return l(e,"form")?Array.from(e.elements).filter((e=>l(e,t))):r(e.querySelectorAll(w(t)))}function v(e){return r(document.querySelectorAll(e))}function w(e){let t;return t="string"==typeof e?e:e.selector,t}const g={bubbles:!0,cancelable:!0};function S(e,t={}){const n=new CustomEvent(e,{...g,...t});return this.dispatchEvent(n),n}function E(e,t,n={}){return!S.call(e,t,n).defaultPrevented}function j(e){null!=e.target&&E(e.target,"ujs:everythingStopped"),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}function k(e,t,n,o){e.addEventListener(n,(e=>{let n=e.target;for(;n instanceof Element&&!l(n,t);)n=n.parentNode;n instanceof Element&&!1===o.call(n,e)&&(e.preventDefault(),e.stopPropagation())}))}function y(e){var t;return e.submitter instanceof HTMLElement?e.submitter:null===(t=e.detail)||void 0===t?void 0:t.submitter}function C(e){return new URL(e.toString(),document.baseURI)}function q(...e){const t={};for(const n of e)for(const[e,o]of n)t[e]=o;return new Headers(t)}function x(e){return"get"===e.toLowerCase()}function R(e){let t,n;const o=e.ok,r=e.status,i=!o,l=e.status>=400&&e.status<=499,c=e.status>=500&&e.status<=599,a=e.redirected,u=C(e.url),s=b("content-type"),d=Boolean(null==s?void 0:s.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)),f=Boolean(null==s?void 0:s.toLowerCase().match(/(^application\/json|\.json)/));async function m(){return null!=t||(t=await e.clone().text()),t}function b(t){return e.headers.get(t)}return{succeeded:o,failed:i,redirected:a,clientError:l,serverError:c,location:u,contentType:s,getHeader:b,isHtml:d,isJson:f,text:m,html:async function(){return d?await m():await Promise.reject(e)},json:async function(){return f?(null!=n||(n=JSON.parse(await m())),n):await Promise.reject(e)},response:e,status:r}}function A(e){return new URLSearchParams(function(e){return[...e].reduce(((e,[t,n])=>e.concat("string"==typeof n?[[t,n]]:[])),[])}(e))}const L={"*":"*/*",any:"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"};function P(e){var t,n,o;const r={...null!==(n=null===(t=window.mrujs)||void 0===t?void 0:t.mimeTypes)&&void 0!==n?n:L};return null==e?null!==(o=null==r?void 0:r.any)&&void 0!==o?o:"*/*":(e=e.trim(),null!=r&&Object.keys(r).includes(e)&&(e=r[e]),e.includes("*/*")?e:`${e}, */*; q=0.01`)}function T(e){(function(e){return!function(e){return null!=e.target&&e.target.isContentEditable||e.defaultPrevented||e.button>0||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}(e)})(e)||j(e)}function $(e){var t;const n=v(`meta[name="${e}"]`),o=n[n.length-1];return null!==(t=null==o?void 0:o.content)&&void 0!==t?t:void 0}function D(){F()}function H(){}function M(e){for(let n=0;n<e.length;n++)(t=e[n])instanceof HTMLMetaElement&&t.matches('meta[name="csrf-token]"')&&F();var t}function F(){const e=N(),t=I();null!=e&&null!=t&&v(`form input[name="${t}"]`).forEach((t=>{t.value=e}))}function N(){var e;return null!==(e=function(e){if(null!=e){const t=(""!==document.cookie.trim()?document.cookie.split("; "):[]).find((t=>t.startsWith(e)));if(null!=t){const e=t.split("=").slice(1).join("=");return""!==e.trim()?decodeURIComponent(e):void 0}}}(I()))&&void 0!==e?e:$("csrf-token")}function I(){return $("csrf-param")}function O(e){const t=N();null!=t&&null==e.headers.get("X-CSRF-TOKEN")&&e.headers.set("X-CSRF-TOKEN",t)}function U(e,t={}){const n=new AbortController,o=n.signal;let r,i,l,c="get",a=!1;c=function(e){var t,n;return null!==(n=null===(t=e.method)||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"get"}(t),a=x(c);const u=function(e){var t;return null!==(t=e.body)&&void 0!==t?t:new URLSearchParams}(t);e instanceof Request?(i=W(e.url,a,u),l=function(e){r=q(d(),e.headers);const t={...f(),...e};return a&&delete t.body,new Request(i,t)}(e)):(i=W(e,a,u),l=function(){r=q(d(),new Headers(t.headers));const e={...f(),...t};return e.headers=r,a&&delete e.body,new Request(i,e)}()),a||O(l),r=l.headers;const s=i.searchParams;return{request:l,method:c,url:i,body:u,params:s,abortController:n,abortSignal:o,cancel:function(e){if(n.abort(),null!=e){j(e);const{element:t}=e.detail;S.call(t,"ajax:stopped",{detail:{...e.detail}})}},headers:r,isGetRequest:a};function d(){return new Headers({Accept:"*/*","X-REQUESTED-WITH":"XmlHttpRequest"})}function f(){const e={method:c,headers:r,credentials:"same-origin",redirect:"follow",signal:o};return a||(e.body=u),e}}function W(e,t,n){const o=C(e);return t?function(e,t){const n=new URLSearchParams(e.search);for(const[o,r]of t)r instanceof File||"authenticity_token"!==o&&(n.has(o)?(n.delete(o),e.searchParams.set(o,r)):e.searchParams.append(o,r));return e}(o,function(e){return e instanceof URLSearchParams?Array.from(e.entries()):[]}(n)):o}function z(e){let t;if(t=e instanceof Event?e.target:e,null==t)return;const{linkDisableSelector:n,buttonDisableSelector:o,formDisableSelector:r,formSubmitSelector:i}=window.mrujs;l(t,n)?function(e){if(null!=e.dataset.ujsDisabled)return;const t=e.dataset.disableWith;null!=t&&(e.dataset.ujsEnableWith=e.innerHTML,e.innerHTML=t),e.addEventListener("click",j),e.dataset.ujsDisabled="true"}(t):l(t,o)||l(t,r)?K(t):l(t,i)&&function(e){p(e,window.mrujs.formDisableSelector).forEach((e=>K(e)))}(t)}function K(e){if(null!=e.dataset.ujsDisabled)return;const t=e.getAttribute("data-disable-with");null!=t&&(l(e,"button")?(e.dataset.ujsEnableWith=e.innerHTML,e.innerHTML=t):(e.dataset.ujsEnableWith=e.value,e.value=t)),e.dataset.ujsDisabled="true",setTimeout((()=>{e.disabled=!0}))}function J(){Z("addEventListener")}function X(){Z("removeEventListener")}function B(e){if(e.defaultPrevented)return;const t=ee(e),n=y(e);if("true"!==t.dataset.remote)return;if(te(t))return;if(te(n))return;null!=n&&z(n),e.preventDefault();const{fetchRequest:o,request:r}=function(e,t){const n=C(function(e,t){var n,o;return null!==(o=null!==(n=null==t?void 0:t.getAttribute("formaction"))&&void 0!==n?n:e.getAttribute("action"))&&void 0!==o?o:""}(e,t)),o=function(e,t){const n=function(e,t){var n,o;return(null!==(o=null!==(n=null==t?void 0:t.getAttribute("formmethod"))&&void 0!==n?n:e.getAttribute("method"))&&void 0!==o?o:"get").toLowerCase()}(e,t),o=function(e){let t;null!=e&&(t=e.dataset.type);const n=P(t),o=new Headers({Accept:n});return o.set("Accept",n),o}(e),r={method:n,headers:o};return r.body=function(e,t,n){const o=function(e,t){return function(e,t){const n=new FormData(e);let o,r;return null!=t&&(o=t.getAttribute("name"),r=t.getAttribute("value")),null!=o&&null!=r&&n.get(o)!==r&&n.append(o,r),n}(e,t)}(e,n);return"application/x-www-form-urlencoded"===function(e,t){var n,o;const r=e.getAttribute("enctype");return function(e){switch(e.toLowerCase()){case"multipart/form-data":return"multipart/form-data";case"text/plain":return"text/plain";default:return"application/x-www-form-urlencoded"}}(null!==(o=null!==(n=null==t?void 0:t.getAttribute("formenctype"))&&void 0!==n?n:r)&&void 0!==o?o:"application/x-www-form-urlencoded")}(e,n)||x(t)?A(o):o}(e,n,t),r}(e,t),r=U(n,o);return{fetchRequest:r,request:r.request,element:e,submitter:t}}(t,n),i={element:t,fetchRequest:o,request:r,submitter:n};S.call(t,"ajax:before",{detail:i})}function G(e){const{element:t,fetchRequest:n,request:o,submitter:r}=e.detail;e.defaultPrevented||te(t)||te(r)?Y(e):S.call(t,"ajax:beforeSend",{detail:{element:t,fetchRequest:n,request:o,submitter:r}})}function _(e){const{element:t,request:n,submitter:o}=e.detail;e.defaultPrevented||te(t)||te(o)?Y(e):(S.call(t,"ajax:send",{detail:{...e.detail}}),window.fetch(n).then((t=>{const n=R(t),{response:o}=n;!function({element:e,fetchRequest:t,request:n,fetchResponse:o,response:r,submitter:i}){const l=null==r?void 0:r.status;!0!==(null==o?void 0:o.succeeded)?S.call(e,"ajax:response:error",{detail:{element:e,fetchRequest:t,request:n,fetchResponse:o,response:r,submitter:i,status:l}}):S.call(e,"ajax:success",{detail:{element:e,fetchRequest:t,request:n,fetchResponse:o,response:r,submitter:i,status:l}})}({...e.detail,fetchResponse:n,response:o})})).catch((t=>function({element:e,fetchRequest:t,request:n,error:o,submitter:r}){S.call(e,"ajax:request:error",{detail:{element:e,fetchRequest:t,request:n,error:o,submitter:r}})}({...e.detail,error:t}))))}function Q(e){e.defaultPrevented?Y(e):S.call(ee(e),"ajax:complete",{detail:{...e.detail}})}function V(e){e.defaultPrevented?Y(e):S.call(ee(e),"ajax:error",{detail:{...e.detail}})}function Y(e){S.call(ee(e),"ajax:stopped",{detail:{...e.detail}})}function Z(e){document[e]("submit",B),document[e]("ajax:before",G),document[e]("ajax:beforeSend",_),document[e]("ajax:success",Q),document[e]("ajax:request:error",V),document[e]("ajax:response:error",V),document[e]("ajax:error",Q)}function ee(e){return e.target}function te(e){return"false"===(null==e?void 0:e.dataset.ujsSubmit)}function ne(e){null!=e&&null==e.getAttribute("data-turbo")&&e.setAttribute("data-turbo","false")}function oe(e){(function(e){if(null==e.currentTarget)return!0;const t=e.currentTarget,n=t.dataset.confirm;if(null==n)return!0;let o=!1;try{o=window.mrujs.confirm(n)}catch(e){console.warn('The following error was encountered when calling: "mrujs.confirm"\n\n'),console.error(e)}const r=S.call(t,"confirm:complete",{detail:{answer:o}});return o&&!r.defaultPrevented})(e)||j(e)}function re(e){let t;null!=e&&(t=e.dataset.type);const n=P(t),o=new Headers({Accept:n});return o.set("Accept",n),o}function ie(e){var t;const n=e.currentTarget;if("false"===n.dataset.remote)return;if(null==n.dataset.method&&"true"!==n.dataset.remote)return;if(null==(null!==(t=n.getAttribute("href"))&&void 0!==t?t:n.dataset.url))return;e.preventDefault();const o=e.target,r=function(e){var t,n;const o=function(e){var t;return(null!==(t=e.dataset.method)&&void 0!==t?t:"get").toLowerCase()}(e);let r;(null===(t=window.mrujs)||void 0===t?void 0:t.maskLinkMethods)&&(r=function(e){return x(e)?"get":"post"}(o));const i=null!==(n=e.getAttribute("href"))&&void 0!==n?n:e.dataset.url;if(null==i)throw Error(`No 'href' or 'data-url' found on ${JSON.stringify(e)}`);const l=C(i),c={headers:re(e)};c.method=null!=r?r:o,x(o)||(c.body=function(e,t){const n=A(function(e){var t;const n=new FormData;return(null===(t=window.mrujs)||void 0===t?void 0:t.maskLinkMethods)&&n.append("_method",e),n}(e)),o=t.getAttribute("name"),r=t.value;null!=o&&null!=r&&n.append(o,r);const i=function(e){if(null!=e){var t;t=e,decodeURI(t)!==decodeURIComponent(t)&&(e=decodeURIComponent(e));try{return Object.entries(JSON.parse(e))}catch(e){}try{return new URLSearchParams(e).entries()}catch(e){}}}(t.getAttribute("data-params"));if(null==i)return n;for(const[e,t]of i){if(null==t)continue;const o=t.toString();("string"==typeof o||o instanceof String)&&n.append(e,o.toString())}return n}(o,e));const a=U(l,c);return{request:a.request,fetchRequest:a}}(n),{fetchRequest:i,request:l}=r;S.call(n,"ajax:beforeSend",{detail:{element:n,fetchRequest:i,request:l,submitter:o}})}const le=["advance","replace","restore"];function ce(){document.addEventListener("ajax:complete",ue),document.addEventListener("ajax:beforeNavigation",pe)}function ae(){document.removeEventListener("ajax:complete",ue),document.removeEventListener("ajax:beforeNavigation",pe)}function ue(e){e.defaultPrevented||S.call(e.detail.element,"ajax:beforeNavigation",{detail:{...e.detail}})}function se(){return de()?window.Turbolinks:fe()?window.Turbo:void 0}function de(){return null!=window.Turbolinks&&!0===window.Turbolinks.supported}function fe(){return null!=window.Turbo}function me({html:e,url:t}){!function(e,t){if(""===t)return;const n=be(se());null==n||n.put(C(e),t)}(C(t),we(e))}function be(e){if(null!=e)return de()?e.controller.cache:fe()?e.navigator.view.snapshotCache:void 0}function he(e){var t;const n=C(e),o=be(se());return null!==(t=null==o?void 0:o.has(n))&&void 0!==t&&t}function pe(e){if(e.defaultPrevented)return;const{element:t,fetchResponse:n,fetchRequest:o}=e.detail;(function(e,t){return!("false"===e.dataset.ujsNavigate||null==t||!t.isHtml||e instanceof HTMLFormElement&&t.succeeded&&!t.redirected&&(console.error("Successful form submissions must redirect"),1))})(t,n)&&ve(t,o,n)}function ve(e,t,n,o){o=null!=o?o:function(e){var t,n;let o=null!==(n=null!==(t=e.dataset.turbolinksAction)&&void 0!==t?t:e.dataset.turboAction)&&void 0!==n?n:"advance";return le.includes(o)||(o="advance"),o}(e);let r=C(window.location.href);(null==t?void 0:t.isGetRequest)&&(r=t.url),n.redirected&&(r=n.location);const i=(l=window.location.href,C(r).href===C(l).href);var l;let c="morphdom";if("turbo"!==window.mrujs.errorRenderer&&"turbo"!==e.getAttribute("data-ujs-error-renderer")||(c="turbo"),n.failed||i)return void ge(e,n,!i,c);const a=se();null!=a?(a.clearCache(),function(e,t,n){const o=se();null!=o&&e.html().then((e=>{me({html:e,url:t}),n="restore",o.visit(t,{action:n})})).catch((e=>console.error(e)))}(n,r,o)):ge(e,n,i,c)}function we(e){var t,n,o;const r=se();return null==r?"":de()?null!==(t=r.Snapshot.wrap(e))&&void 0!==t?t:"":fe()&&function(){const e=se();return!(null==e||!de()&&(!fe()||null==e.PageSnapshot&&(console.warn("The version of Turbo you are currently using does not support snapshot generation. Please consider upgrading your version of Turbo."),1)))}()&&null!==(o=null===(n=r.PageSnapshot)||void 0===n?void 0:n.fromHTMLString(e))&&void 0!==o?o:""}function ge(t,n,o=!1,r="morphdom"){n.isHtml&&n.html().then((i=>{var l;if("turbo"===r)!function(e){const t=se();null==t||t.navigator.view.renderError(we(e))}(i);else if("morphdom"===r){const n=t.getAttribute("data-ujs-morph-root");let o=document.body;null!=n&&(o=""===n.trim()?t:null!==(l=document.querySelector(n))&&void 0!==l?l:document.body),function(t,n=document.body){const o=document.createElement("template");o.innerHTML=String(t).trim(),e(n,o.content,{childrenOnly:!0})}(i,o)}o&&window.history.pushState({},"",n.location)})).catch((e=>{console.error(e)}))}function Se(e){!0===this.disabled&&j(e)}function Ee(e){let t=e;e instanceof Event&&(t=e.target);const{linkDisableSelector:n,buttonDisableSelector:o,formEnableSelector:r,formSubmitSelector:i}=window.mrujs;l(t,n)?function(e){const t=e.dataset.ujsEnableWith;null!=t&&(e.innerHTML=t,e.removeAttribute("data-ujs-enable-with")),e.removeEventListener("click",j),e.removeAttribute("data-ujs-disabled")}(t):l(t,o)||l(t,r)?ke(t):l(t,i)&&je(t)}function je(e){p(e,window.mrujs.formEnableSelector).forEach(ke)}function ke(e){const t=e.dataset.ujsEnableWith;null!=t&&(l(e,"button")?e.innerHTML=t:e.value=t,e.removeAttribute("data-ujs-enable-with")),e.disabled=!1,e.removeAttribute("data-ujs-disabled")}function ye(e={}){var t;e.connected=!1,(e={...f}).FetchResponse=R,e.FetchRequest=U,e.addedNodesObserver=function(e){const t=new MutationObserver(Pe);return{name:"AddedNodesObserver",connect:function(){t.observe(document,{childList:!0,subtree:!0,attributes:!0})},disconnect:function(){t.disconnect()}}}(),e.remoteWatcher=function(){let e;return{name:"RemoteWatcher",initialize:function(){e=window.mrujs.remoteSelector},connect:function(){v(e).forEach((e=>{ne(e)}))},disconnect:function(){},observerCallback:function(t){t.forEach((t=>{l(t,window.mrujs.remoteSelector)&&ne(t),t instanceof Element&&t.querySelectorAll(e).forEach((e=>{ne(e)}))}))}}}(),e.elementEnabler=function(){const e=[Ee];let t=[];return{name:"ElementEnabler",initialize:function(){t=function(){const{formSubmitSelector:e,buttonDisableSelector:t,linkDisableSelector:n,inputChangeSelector:o}=window.mrujs,r=[n,t,e,o];return[{event:"ajax:complete",selectors:r},{event:"ajax:stopped",selectors:r},{event:"turbo:submit-end",selectors:r}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},callbacks:e}}(),e.elementDisabler=function(){const e=[z];let t=[];return{name:"ElementDisabler",initialize:function(){t=function(){const{formSubmitSelector:e,linkClickSelector:t,buttonClickSelector:n,inputChangeSelector:o}=window.mrujs;return[{event:"click",selectors:[n,t]},{event:"ajax:send",selectors:[e]},{event:"turbo:submit-start",selectors:["form"]},{event:"change",selectors:[o]}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},queries:t}}(),e.disabledElementChecker=function(){const e=[Se];let t=[];return{name:"DisabledElementChecker",initialize:function(){t=function(){const{linkClickSelector:e,buttonClickSelector:t,inputChangeSelector:n,formSubmitSelector:o,formInputClickSelector:r}=window.mrujs;return[{event:"click",selectors:[t,e,r]},{event:"change",selectors:[n]},{event:"submit",selectors:[o]}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},queries:t,callbacks:e}}(),e.navigationAdapter=function(){const e={name:"NavigationAdapter",connect:ce,disconnect:ae,cacheContains:he,prefetch:me,navigate:ve};return Object.defineProperties(e,{adapter:{get:function(){return se()}},snapshotCache:{get:function(){return be(se())}}}),e}(),e.clickHandler=function(){const e=[T];let t=[];return{name:"ClickHandler",initialize:function(){t=function(){const{linkClickSelector:e,buttonClickSelector:t,formInputClickSelector:n}=window.mrujs;return[{event:"click",selectors:[e,t,n]}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},queries:t,callbacks:e}}(),e.confirmClass=function(){const e=[oe];let t=[];return{name:"Confirm",initialize:function(){t=function(){const{linkClickSelector:e,buttonClickSelector:t,formInputClickSelector:n,inputChangeSelector:o,formSubmitSelector:r}=window.mrujs;return[{event:"click",selectors:[e,t,n]},{event:"change",selectors:[o]},{event:"submit",selectors:[r]}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},queries:t,callbacks:e}}(),e.csrf={name:"Csrf",connect:D,disconnect:H,observerCallback:M},e.method=function(){const e=[ie];let t=[];return{name:"Method",initialize:function(){t=function(){const{linkClickSelector:e,inputChangeSelector:t,buttonClickSelector:n}=window.mrujs;return[{event:"click",selectors:[e,n]},{event:"change",selectors:[t]}]}()},connect:function(){m(t,e)},disconnect:function(){b(t,e)},observerCallback:function(n){h(t,n,e)},queries:t,callbacks:e}}(),e.formSubmitDispatcher={name:"FormSubmitDispatcher",connect:J,disconnect:X};const n=[e.addedNodesObserver,e.remoteWatcher,e.csrf,e.elementEnabler,e.clickHandler,e.disabledElementChecker,e.confirmClass,e.elementDisabler,e.method,e.formSubmitDispatcher,e.navigationAdapter];e.corePlugins=n;const o=null!==(t=e.plugins)&&void 0!==t?t:[];e.plugins=o;const i=n.concat(o);return e.allPlugins=i,e.maskLinkMethods=!0,e.mimeTypes={...L},e.stop=qe,e.restart=xe,e.fetch=Te,e.urlEncodeFormData=A,e.registerMimeTypes=$e,e.enableElement=Ee,e.enableFormElements=je,e.enableFormElement=ke,e.disableElement=z,e.stopEverything=j,e.dispatch=S,e.addListeners=m,e.removeListeners=b,e.attachObserverCallback=h,e.expandUrl=C,e.findSubmitter=y,e.$=v,e.CSRFProtection=O,e.csrfParam=I,e.csrfToken=N,e.cspNonce=He,e.confirm=Le,e.handleConfirm=oe,e.handleDisabledElement=Se,e.handleMethod=ie,e.start=Ce,e.preventInsignificantClick=T,e.refreshCSRFTokens=F,e.delegate=k,e.fire=E,e.formElements=p,e.matches=l,e.toArray=r,e}function Ce(e={}){var t;if(window.Rails=window.mrujs=this,window.mrujs.connected)return window.mrujs;Object.assign(this,e),this.allPlugins=this.corePlugins.concat(this.plugins);for(let e=0;e<this.allPlugins.length;e++){const n=this.allPlugins[e];null===(t=n.initialize)||void 0===t||t.call(n)}return Re(),this}function qe(){Ae()}function xe(){Ae(),Re()}function Re(){var e;De(),window.addEventListener("pageshow",De);for(let t=0;t<window.mrujs.allPlugins.length;t++){const n=window.mrujs.allPlugins[t];null===(e=n.connect)||void 0===e||e.call(n)}window.mrujs.connected=!0}function Ae(){var e;window.removeEventListener("pageshow",De);for(let t=0;t<window.mrujs.allPlugins.length;t++){const n=window.mrujs.allPlugins[t];null===(e=n.disconnect)||void 0===e||e.call(n)}window.mrujs.connected=!1}function Le(e){return window.confirm(e)}function Pe(e,t){for(const t of e){let e;e="attributes"===t.type?[t.target]:Array.from(t.addedNodes),window.setTimeout((()=>{var t;for(let n=0;n<window.mrujs.allPlugins.length;n++){const o=window.mrujs.allPlugins[n];null===(t=o.observerCallback)||void 0===t||t.call(o,e)}}),0)}}function Te(e,t={}){let{element:n,submitter:o,dispatchEvents:r}=t;delete t.element,delete t.submitter,delete t.dispatchEvents;const i=U(e,t);return!0===r?(null==n&&(n=document.documentElement),void S.call(n,"ajax:beforeSend",{detail:{element:n,fetchRequest:i,request:i.request,submitter:o}})):window.fetch(i.request)}function $e(e){return e.forEach((e=>{const{shortcut:t,header:n}=e;window.mrujs.mimeTypes[t]=n})),window.mrujs.mimeTypes}function De(){const{formEnableSelector:e,linkDisableSelector:t}=window.mrujs;v(`${e}, ${t}`).forEach((e=>{Ee(e)}))}function He(){return $("csp-nonce")}const Me=ye(),{$:Fe,CSRFProtection:Ne,buttonClickSelector:Ie,buttonDisableSelector:Oe,cspNonce:Ue,csrfParam:We,csrfToken:ze,confirm:Ke,delegate:Je,disableElement:Xe,enableElement:Be,fileInputSelector:Ge,fire:_e,formDisableSelector:Qe,formElements:Ve,formEnableSelector:Ye,formInputClickSelector:Ze,formSubmitSelector:et,handleConfirm:tt,handleDisabledElement:nt,handleMethod:ot,inputChangeSelector:rt,linkClickSelector:it,linkDisableSelector:lt,matches:ct,preventInsignificantClick:at,refreshCSRFTokens:ut,start:st,stopEverything:dt,FetchResponse:ft,FetchRequest:mt}=Me;export{Fe as $,Ne as CSRFProtection,mt as FetchRequest,ft as FetchResponse,ye as Mrujs,Ie as buttonClickSelector,Oe as buttonDisableSelector,Ke as confirm,Ue as cspNonce,We as csrfParam,ze as csrfToken,Me as default,Je as delegate,Xe as disableElement,Be as enableElement,Ge as fileInputSelector,_e as fire,Qe as formDisableSelector,Ve as formElements,Ye as formEnableSelector,Ze as formInputClickSelector,et as formSubmitSelector,tt as handleConfirm,nt as handleDisabledElement,ot as handleMethod,rt as inputChangeSelector,it as linkClickSelector,lt as linkDisableSelector,ct as matches,Me as mrujs,at as preventInsignificantClick,ut as refreshCSRFTokens,st as start,dt as stopEverything};
//# sourceMappingURL=index.module.min.js.map
